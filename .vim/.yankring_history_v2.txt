(ConTeXt,v
bind Q quit,V
SE_GUI_ICON_VOLUME,v
applications/smartgo-hd/sys/src/key_input.c,v
////,2
SE_GUI_BORDER_HEIGHT,v
SCALER_GetCurrVal(OUTER_FRAME_ALL);,v
OSD_DrawRoundFilledRectangleSCALER_GetCurrVal(OUTER_FRAME_ALL);,v
SCALER_GetCurrVal(OUTER_FRAME_ALL);,v
                                                x2 - SCALER_GetCurrVal(OUTER_FRAME_ALL),         y2 - SCALER_GetCurrVal(OUTER_FRAME_ALL), ,V
 ,V
xtmp, ytmp, x2tmp, y2tmp,,v
                            xtmp, ytmp, x2tmp, y2tmp,,V
x + offset + SCALER_GetCurrVal(OUTER_FRAME_ALL), y + SCALER_GetCurrVal(OUTER_FRAME_ALL), ,v
                        ,v
,         ,v
,         y2 - SCALER_GetCurrVal(OUTER_FRAME_ALL), ,v
x2 - SCALER_GetCurrVal(OUTER_FRAME_ALL),         y2 - SCALER_GetCurrVal(OUTER_FRAME_ALL), ,v
, y + SCALER_GetCurrVal(OUTER_FRAME_ALL), ,v
x + offset + SCALER_GetCurrVal(OUTER_FRAME_ALL), y + SCALER_GetCurrVal(OUTER_FRAME_ALL), ,v
x y x2y2,2
,V
xtmp  = x ytmp  = y x2tmp = x2y2tmp = y2,10
                                        y2 - SCALER_GetCurrVal(OUTER_FRAME_WIDTH),,V
                                        x2 - SCALER_GetCurrVal(OUTER_FRAME_WIDTH),,V
                                        ,v
                                        y + SCALER_GetCurrVal(OUTER_FRAME_WIDTH),,V
x + SCALER_GetCurrVal(OUTER_FRAME_WIDTH),,v
 , y2 - SCALER_GetCurrVal(OUTER_FRAME_WIDTH),,v
x2 - SCALER_GetCurrVal(OUTER_FRAME_WIDTH), y2 - SCALER_GetCurrVal(OUTER_FRAME_WIDTH),,v
, y + SCALER_GetCurrVal(OUTER_FRAME_WIDTH), ,v
x + SCALER_GetCurrVal(OUTER_FRAME_WIDTH), y + SCALER_GetCurrVal(OUTER_FRAME_WIDTH),,v
x + SCALER_GetCurrVal(OUTER_FRAME_WIDTH), y + SCALER_GetCurrVal(OUTER_FRAME_WIDTH),,v
                                        x + SCALER_GetCurrVal(OUTER_FRAME_WIDTH), y + SCALER_GetCurrVal(OUTER_FRAME_WIDTH),,V
            ,v
                #endif /* SE_GUI */,V
                #if 0                OSD_DrawRoundFilledRectangle(x + SCALER_GetCurrVal(OUTER_FRAME_WIDTH),                                        y + SCALER_GetCurrVal(OUTER_FRAME_WIDTH),                                        x2 - SCALER_GetCurrVal(OUTER_FRAME_WIDTH),                                        y + SCALER_GetCurrVal(OUTER_FRAME_WIDTH) +                                        SCALER_GetCurrVal(TITLE_LINE_HEIGHT) - 1,                                        SCALER_GetCurrVal(MENU_ROUND_RECTANGLE_RADIUS),                                         OSD_GetSchemeColor(OSD_SCHEMECOL_TITLE_BKGR));                /* Horizontal separator below title line */                OSDINT_DrawSeparatorHorizontal(x +                                            SCALER_GetCurrVal(OUTER_FRAME_WIDTH),                                            y +                                            SCALER_GetCurrVal(OUTER_FRAME_WIDTH) +                                            SCALER_GetCurrVal(TITLE_LINE_HEIGHT),                                            width -                                            2 *                                            SCALER_GetCurrVal(OUTER_FRAME_WIDTH));                /* draw inner background */                OSDINT_DrawFilledRectangle(x + SCALER_GetCurrVal(OUTER_FRAME_WIDTH),                                        y + SCALER_GetCurrVal(OUTER_FRAME_WIDTH) +                                        SCALER_GetCurrVal(TITLE_LINE_HEIGHT) +                                        SCALER_GetCurrVal(INNER_FRAME_WIDTH),                                        x2 - SCALER_GetCurrVal(OUTER_FRAME_WIDTH),                                        y2 - SCALER_GetCurrVal(OUTER_FRAME_WIDTH),                                        OSD_GetSchemeColor(OSD_SCHEMECOL_MAIN_BKGR));                drawFrame = FTRUE;                                #else,V
    uint16_t            x2, y2;,V
HEIGHT,v
{SE_GUI_FRAME_HEIGHT,           15,  15,  15, 0, SCALER_TYPE_HEIGHT},,V
SE_GUI_FRAME_HEIGHT,v
SCALER_GetCurrVal(OUTER_FRAME_WIDTH),v
SCALER_GetCurrVal(OUTER_FRAME_WIDTH),,v
frameRadius,v
//{MENU_ROUND_RECTANGLE_RADIUS,   16,  64,  24, 0, SCALER_TYPE_WIDTH },,V
 BG,v
INERR,v
Frame,v
ii,v
            boxDat.pos.height      = SCALER_GetCurrVal(TITLE_LINE_HEIGHT);            boxDat.pos.alignment   = FGS_ALIGN_HOR_LEFT | FGS_ALIGN_VER_TOP;            boxDat.bkgrType        = OSD_BOX_BKGR_NONE | OSD_CORNER_TOP_LEFT;,V
SCALER_GetCurrVal(SE_GUI_FRAME_HEIGHT),v
            /* ----------------------- volume txt -------------------------------------- */            boxDat.pos.x           = inst->itemPos.x + (inst->itemPos.width>>1);            boxDat.pos.y           = SCALER_GetCurrVal(OUTER_FRAME_WIDTH);            boxDat.pos.width       = pnlDat.pos.width -                                     2 * SCALER_GetCurrVal(OUTER_FRAME_WIDTH) -                                     2 * SCALER_GetCurrVal(MAIN_TEXT_PAD_X);            boxDat.pos.height      = SCALER_GetCurrVal(TITLE_LINE_HEIGHT);            boxDat.pos.alignment   = FGS_ALIGN_HOR_LEFT | FGS_ALIGN_VER_TOP;            boxDat.bkgrType        = OSD_BOX_BKGR_NONE | OSD_CORNER_TOP_LEFT;            boxDat.getItem          = MAIN_VolumeBarGetItem;            boxDat.getItemArg       = (FAPI_SYS_HandleT)STR_GNR_VOLUME;#ifdef SE_GUI            FAPI_SYS_PRINT_MSG("\n%s:%i Volume text (%d, %d, %d, %d)  \n", __FILE__,__LINE__,                                           boxDat.pos.x, boxDat.pos.y,                                            boxDat.pos.width,                                           boxDat.pos.height);#endif /* SE_GUI */            retVal = FGS_BOX_Open (&boxDat, MENU_VOLUMEBAR_ID_TITLE,                                   inst->pnlHdl, &(inst->titleHdl));            if ( retVal != FAPI_OK )            {                break;            },V
            /* ----------------------- volume txt -------------------------------------- */            boxDat.pos.x           = inst->itemPos.x + (inst->itemPos.width>>1);            boxDat.pos.y           = SCALER_GetCurrVal(OUTER_FRAME_WIDTH);            boxDat.pos.width       = pnlDat.pos.width -                                     2 * SCALER_GetCurrVal(OUTER_FRAME_WIDTH) -                                     2 * SCALER_GetCurrVal(MAIN_TEXT_PAD_X);            boxDat.pos.height      = SCALER_GetCurrVal(TITLE_LINE_HEIGHT);            boxDat.pos.alignment   = FGS_ALIGN_HOR_LEFT | FGS_ALIGN_VER_TOP;            boxDat.bkgrType        = OSD_BOX_BKGR_NONE | OSD_CORNER_TOP_LEFT;            boxDat.getItem          = MAIN_VolumeBarGetItem;            boxDat.getItemArg       = (FAPI_SYS_HandleT)STR_GNR_VOLUME;#ifdef SE_GUI            FAPI_SYS_PRINT_MSG("\n%s:%i Volume text (%d, %d, %d, %d)  \n", __FILE__,__LINE__,                                           boxDat.pos.x, boxDat.pos.y,                                            boxDat.pos.width,                                           boxDat.pos.height);#endif /* SE_GUI */            retVal = FGS_BOX_Open (&boxDat, MENU_VOLUMEBAR_ID_TITLE,                                   inst->pnlHdl, &(inst->titleHdl));            if ( retVal != FAPI_OK )            {                break;            },V
                                    (2 * (SCALER_GetCurrVal(OUTER_FRAME_WIDTH) + SCALER_GetCurrVal(MAIN_TEXT_PAD_X)+ (volumeIcon_width/4)));,V
    #ifdef SE_GUI,V
                                    l,V
inst->pItem->abspos.x +                                    SCALER_GetCurrVal(MAIN_TEXT_PAD_X),                                    inst->pItem->abspos.y +                                    SCALER_GetCurrVal(TITLE_LINE_HEIGHT),                                    SCALER_GetCurrVal(VOLUMEBAR_WIDTH) -                                     (2 * (SCALER_GetCurrVal(OUTER_FRAME_WIDTH) + SCALER_GetCurrVal(MAIN_TEXT_PAD_X)+ (volumeIcon_width/4))),                                    SCALER_GetCurrVal(LIST_LINE_HEIGHT),                                    l,v
icon,v
    FAPI_SYS_PRINT_MSG("\n%s:%i Volume icon    (%d, %d, %d, %d)  \n", __FILE__,__LINE__,,V
+ ( volumeIcon_hight /2 );,v
                                    (2 * (SCALER_GetCurrVal(OUTER_FRAME_WIDTH) + SCALER_GetCurrVal(MAIN_TEXT_PAD_X)+ (volumeIcon_width/4))),,V
OSD_SCHEMECOL_FRAME_SHADOW1,v
OSD_SCHEMECOL_FRAME,v
SE_GUI_,v
SCALER_GetCurrVal,v
( volumeIcon_hight<< 1 );,v
////////,2
SE_GUI_DIALOG_VOLUME,v
        //hack test,V
        FGS_ITEM_S item;        memset(&item,    0, sizeof(item));        MENU_COMMON_ITEM_BUTTON(&item, SE_GUI_MAIN_MENU);        FGS_DrawItem ( &item, 0, 0, 0x408, 0x29d);,V
    //{ SE_GUI_MAIN_MENU,     mainMenuDialog }, ,V
    //{ SE_GUI_DIALOG_VOLUME,     volumeIconDialog  }, ,V
    MENU_ROUND_RECTANGLE_RADIUS, ,V
    SE_GUI_MAIN_MENU,    ,V
    SE_GUI_DIALOG_VOLUME,    ,V
    #ifdef SE_GU,V
#ifdef SE_GUI,V
#endif /* SE_GUI */,V
#else,V
 0,v
    #if 0,V
                                     SCALER_GetCurrVal(MAIN_TEXT_PAD_X) ) ;,V
(SCALER_GetCurrVal(OUTER_FRAME_WIDTH) +,v
( volumeIcon_width>>1 );,v
IGHT,v
  ,v
SCALER_TYPE_HEIGHT,v
 SCALER_TYPE_WIDTH,v
MULTI_SELECT_MARKING,v
{MULTI_SELECT_MARKING,          12,  24,  24, 0, SCALER_TYPE_WIDTH },,V
MAIN_PAD_X,v
col,v
    FAPI_SYS_PRINT_MSG("\n%s:%i Volume icon draw returned %d\n" __FILE__, __LINE__, col);,V
                                    SCALER_GetCurrVal(VOLUMEBAR_WIDTH) -                                    (2 * (SCALER_GetCurrVal(OUTER_FRAME_WIDTH) + SCALER_GetCurrVal(MAIN_TEXT_PAD_X)));,V
                                                                                        (2 * (SCALER_GetCurrVal(OUTER_FRAME_WIDTH) + SCALER_GetCurrVal(MAIN_TEXT_PAD_X))),,V
        SCALER_GetCurrVal(TITLE_LINE_HEIGHT) SCALER_GetCurrVal(VOLUMEBAR_WIDTH) -,V
                                    inst->pItem->abspos.y +,V
                                    inst->pItem->abspos.y +                                    SCALER_GetCurrVal(TITLE_LINE_HEIGHT),                                    SCALER_GetCurrVal(VOLUMEBAR_WIDTH) -                                    (2 * (SCALER_GetCurrVal(OUTER_FRAME_WIDTH) + SCALER_GetCurrVal(MAIN_TEXT_PAD_X))),,V
)                                                ,v
                                    wVi, hVi );,V
